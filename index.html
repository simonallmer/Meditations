<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meditations</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Noto+Serif:wght@300;400;500;600&display=swap');

        :root {
            --saffron: #D4A574;
            --deep-saffron: #C4915A;
            --warm-stone: #E8DCC4;
            --temple-gold: #B8935F;
            --incense-smoke: #F5F1E8;
            --meditation-brown: #8B7355;
            --zen-dark: #4A3F35;
            --lotus-white: #FFF9F0;
            --sacred-red: #A0522D;
        }

        html,
        body {
            height: 100%;
        }

        body {
            font-family: 'Noto Serif', serif;
            background: linear-gradient(135deg, var(--incense-smoke) 0%, var(--warm-stone) 50%, var(--incense-smoke) 100%);
            position: relative;
            overflow-x: hidden;
        }

        /* Intricate mandala pattern overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                /* Outer petals */
                radial-gradient(circle at 50% 50%, transparent 48%, rgba(184, 147, 95, 0.08) 48.5%, transparent 49%),
                radial-gradient(circle at 50% 50%, transparent 46%, rgba(184, 147, 95, 0.06) 46.5%, transparent 47%),
                /* Middle layer - detailed petals */
                radial-gradient(circle at 50% 50%, transparent 38%, rgba(212, 165, 116, 0.1) 38.5%, transparent 39%),
                radial-gradient(circle at 50% 50%, transparent 36%, rgba(212, 165, 116, 0.08) 36.5%, transparent 37%),
                radial-gradient(circle at 50% 50%, transparent 34%, rgba(184, 147, 95, 0.06) 34.5%, transparent 35%),
                /* Inner rings */
                radial-gradient(circle at 50% 50%, transparent 28%, rgba(212, 165, 116, 0.12) 28.5%, transparent 29%),
                radial-gradient(circle at 50% 50%, transparent 26%, rgba(184, 147, 95, 0.08) 26.5%, transparent 27%),
                radial-gradient(circle at 50% 50%, transparent 22%, rgba(212, 165, 116, 0.1) 22.5%, transparent 23%),
                /* Center ornament */
                radial-gradient(circle at 50% 50%, transparent 18%, rgba(184, 147, 95, 0.15) 18.5%, transparent 19%),
                radial-gradient(circle at 50% 50%, transparent 15%, rgba(212, 165, 116, 0.12) 15.5%, transparent 16%),
                radial-gradient(circle at 50% 50%, transparent 12%, rgba(184, 147, 95, 0.1) 12.5%, transparent 13%),
                /* Core */
                radial-gradient(circle at 50% 50%, rgba(212, 165, 116, 0.08) 8%, transparent 8.5%);
            background-size: 600px 600px;
            background-position: center center,
                calc(50% + 300px) calc(50% + 300px),
                calc(50% - 300px) calc(50% - 300px),
                calc(50% + 300px) calc(50% - 300px),
                calc(50% - 300px) calc(50% + 300px);
            pointer-events: none;
            opacity: 0.7;
        }

        /* Additional decorative layer with Sanskrit-inspired patterns */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                /* Petal details */
                repeating-conic-gradient(from 0deg at 50% 50%,
                    transparent 0deg,
                    transparent 14deg,
                    rgba(184, 147, 95, 0.03) 15deg,
                    transparent 16deg,
                    transparent 29deg),
                /* Lotus petals effect */
                repeating-conic-gradient(from 7.5deg at 50% 50%,
                    transparent 0deg,
                    transparent 29deg,
                    rgba(212, 165, 116, 0.04) 30deg,
                    transparent 31deg,
                    transparent 59deg);
            background-size: 600px 600px;
            background-position: center;
            pointer-events: none;
            opacity: 0.5;
        }

        .font-crimson {
            font-family: 'Crimson Text', serif;
        }

        /* Breathing animation - like meditation breath */
        @keyframes breath {

            0%,
            100% {
                transform: scale(1);
                box-shadow:
                    0 0 40px rgba(212, 165, 116, 0.3),
                    0 0 80px rgba(212, 165, 116, 0.1),
                    inset 0 0 30px rgba(255, 249, 240, 0.3);
            }

            50% {
                transform: scale(1.08);
                box-shadow:
                    0 0 60px rgba(212, 165, 116, 0.4),
                    0 0 100px rgba(212, 165, 116, 0.15),
                    inset 0 0 40px rgba(255, 249, 240, 0.4);
            }
        }

        .animate-breath {
            animation: breath 6s ease-in-out infinite;
        }

        /* Click animation - like a gong ripple */
        .animate-click-effect {
            animation: click-effect 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000);
        }

        @keyframes click-effect {
            0% {
                transform: scale(1.08);
            }

            50% {
                transform: scale(0.92);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Gentle fade like incense smoke */
        .fade-transition {
            transition: opacity 0.8s ease-in-out;
        }

        /* Lotus petal decoration */
        @keyframes float {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
            }

            50% {
                transform: translateY(-10px) rotate(2deg);
            }
        }

        .floating {
            animation: float 8s ease-in-out infinite;
        }

        /* Zen circle (Enso) inspired elements */
        .zen-circle {
            position: relative;
        }

        .zen-circle::after {
            content: '';
            position: absolute;
            inset: -8px;
            border-radius: 50%;
            border: 1px solid var(--temple-gold);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .zen-circle:hover::after {
            opacity: 0.3;
        }
    </style>
</head>

<body>
    <a href="https://simonallmer.com"
        class="fixed top-6 left-6 transition-colors duration-300 text-sm z-50 flex items-center gap-2 group"
        style="color: var(--meditation-brown); font-weight: 400;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="group-hover:-translate-x-1 transition-transform duration-300"
            style="color: var(--meditation-brown);">
            <path d="m15 18-6-6 6-6" />
        </svg>
        Back to SA
    </a>
    <main class="relative flex flex-col items-center justify-center min-h-full w-full p-4 overflow-hidden"
        style="color: var(--zen-dark);">

        <!-- Decorative Sanskrit/Devanagari Symbols -->
        <div class="fixed top-20 left-12 text-6xl opacity-10 floating"
            style="color: var(--temple-gold); animation-delay: 0s;">ॐ</div>
        <div class="fixed top-32 right-16 text-5xl opacity-10 floating"
            style="color: var(--saffron); animation-delay: 1s;">श्री</div>
        <div class="fixed bottom-24 left-20 text-5xl opacity-10 floating"
            style="color: var(--deep-saffron); animation-delay: 2s;">अहं</div>
        <div class="fixed bottom-32 right-24 text-6xl opacity-10 floating"
            style="color: var(--temple-gold); animation-delay: 3s;">सत्</div>
        <div class="fixed top-1/2 left-8 text-4xl opacity-10 floating"
            style="color: var(--meditation-brown); animation-delay: 4s;">धर्म</div>
        <div class="fixed top-1/2 right-12 text-4xl opacity-10 floating"
            style="color: var(--saffron); animation-delay: 5s;">योग</div>

        <div class="text-center mb-12 md:mb-16">
            <h1 class="text-5xl md:text-7xl font-light tracking-wide font-crimson"
                style="color: var(--zen-dark); letter-spacing: 0.05em;">
                Meditations
            </h1>
            <p class="mt-3 text-base" style="color: var(--meditation-brown); font-weight: 300;">
                Written by Simon Allmer
            </p>
        </div>

        <!-- Breathing Circle (Zen Enso) -->
        <div id="breathing-circle"
            class="relative w-64 h-64 md:w-72 md:h-72 cursor-pointer group focus:outline-none zen-circle" role="button"
            tabindex="0" aria-label="Get a new meditation">
            <div id="circle-bg"
                class="absolute inset-0 rounded-full animate-breath transition-transform duration-500 group-hover:scale-105"
                style="background: radial-gradient(circle at 30% 30%, var(--saffron), var(--deep-saffron)); border: 2px solid var(--temple-gold);">
            </div>
            <div class="absolute inset-0 flex items-center justify-center">
                <span class="text-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 font-crimson"
                    style="color: var(--lotus-white); font-weight: 400; letter-spacing: 0.1em;">
                    ॐ
                </span>
            </div>
        </div>

        <!-- Quote Section -->
        <div class="mt-16 md:mt-20 w-full max-w-3xl min-h-[280px] flex flex-col justify-center items-center px-6">
            <div id="start-prompt" class="animate-pulse text-lg font-crimson"
                style="color: var(--meditation-brown); opacity: 0.6;">
                Begin your meditation
            </div>

            <blockquote id="quote-container" class="hidden w-full" aria-live="polite">
                <p id="quote-text" class="font-crimson text-2xl md:text-3xl italic text-center leading-relaxed mb-8"
                    style="color: var(--zen-dark);">
                    <!-- Quote text goes here -->
                </p>
                <footer id="quote-author" class="mt-6 text-right text-base"
                    style="color: var(--meditation-brown); font-weight: 400;">
                    <!-- Author goes here -->
                </footer>
            </blockquote>
        </div>

        <!-- Navigation Arrows -->
        <div id="nav-arrows" class="hidden mt-10 flex items-center gap-10 fade-transition opacity-0">
            <button id="prev-arrow"
                class="group flex items-center justify-center w-14 h-14 rounded-full backdrop-blur-sm transition-all duration-500 disabled:opacity-20 disabled:cursor-not-allowed"
                style="background: var(--lotus-white); border: 2px solid var(--temple-gold); box-shadow: 0 4px 12px rgba(184, 147, 95, 0.2);"
                aria-label="Previous quote" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"
                    class="group-hover:-translate-x-1 transition-transform duration-300 group-disabled:group-hover:translate-x-0"
                    style="color: var(--meditation-brown);">
                    <path d="m15 18-6-6 6-6" />
                </svg>
            </button>

            <button id="next-arrow"
                class="group flex items-center justify-center w-14 h-14 rounded-full backdrop-blur-sm transition-all duration-500 disabled:opacity-20 disabled:cursor-not-allowed"
                style="background: var(--lotus-white); border: 2px solid var(--temple-gold); box-shadow: 0 4px 12px rgba(184, 147, 95, 0.2);"
                aria-label="Next quote" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"
                    class="group-hover:translate-x-1 transition-transform duration-300 group-disabled:group-hover:translate-x-0"
                    style="color: var(--meditation-brown);">
                    <path d="m9 18 6-6-6-6" />
                </svg>
            </button>
        </div>
    </main>

    <script>
        // Data: Quotes with author URLs
        const quotes = [
            { text: "Talking is uncinematic and should therefore occur only in the absence of people.", author: "Simon Allmer", url: null },
            { text: "Art is love. Business is warfare.", author: "Simon Allmer", url: null },
            { text: "I always look towards the future because I have a very bad memory.", author: "Simon Allmer", url: null },
            { text: "Never namedrop. Rockefeller told me that.", author: "Henry Kissinger", url: "https://simonallmer.com/americanportrait" },
            { text: "One does not gain power through unscrupulousness alone. It also takes cynicism.", author: "Henry Kissinger", url: "https://simonallmer.com/americanportrait" },
            { text: "Life is not a zero sum game. It is a negative bank statement.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Poetry without the divine is like decaffeinated coffee. It has no effect and you get yellow teeth.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "I need to seperate my private life from my secret life.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "God is the opposite of why.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "I doubt myself therefore I also doubt my low opinion of myself which makes me appear confident.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "It is never too late for unpunctuality.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "I cannot afford a wheelchair therefore I only engage in deadly activities.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Going to university to study the real world is like going to a natural history museum to observe animal behaviour.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Exceptional quality and low prices are not contradictory. That is why we invented slave labour.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Praise the prose.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Not everyone in Switzerland is rich but even the beggars ask for stock options.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Deadly is the night.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "If you want to see yourself, look in a mirror", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Some fates are worse than death.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
            { text: "Throughout the years, I remained very modest according to my butler.", author: "Detective Noname", url: "https://simonallmer.com/detectivenoname" },
        ];

        // State
        let isClickAnimating = false;
        let hasStarted = false;
        let availableQuotes = [...quotes]; // Copy of quotes to track availability
        let isComplete = false;
        let quoteHistory = []; // Track all shown quotes
        let currentHistoryIndex = -1; // Current position in history

        // Elements
        const breathingCircle = document.getElementById('breathing-circle');
        const circleBg = document.getElementById('circle-bg');
        const startPrompt = document.getElementById('start-prompt');
        const quoteContainer = document.getElementById('quote-container');
        const quoteText = document.getElementById('quote-text');
        const quoteAuthor = document.getElementById('quote-author');
        const navArrows = document.getElementById('nav-arrows');
        const prevArrow = document.getElementById('prev-arrow');
        const nextArrow = document.getElementById('next-arrow');

        // Helper function to update arrow states
        function updateArrowStates() {
            prevArrow.disabled = currentHistoryIndex <= 0;
            nextArrow.disabled = currentHistoryIndex >= quoteHistory.length - 1;
        }

        // Helper function to display a quote
        function displayQuote(quote) {
            if (quote.isComplete) {
                quoteText.innerHTML = "Meditation complete.<br><span class='block mt-4 text-base md:text-lg text-gray-500'>Remember to focus less on material wealth and more on Insta likes.</span>";
                quoteText.classList.remove('italic');
                quoteAuthor.innerHTML = "";
            } else {
                quoteText.textContent = `"${quote.text}"`;
                quoteText.classList.add('italic');

                // Update author with link if URL exists
                if (quote.url) {
                    quoteAuthor.innerHTML = `— <a href="${quote.url}" class="transition-colors duration-500 underline" style="color: var(--meditation-brown); text-decoration-color: var(--temple-gold); text-underline-offset: 3px;">${quote.author}</a>`;
                } else {
                    quoteAuthor.textContent = `— ${quote.author}`;
                }
            }
        }

        // Functions
        function handleNewMeditation() {
            if (isClickAnimating || isComplete) return;

            // If we're viewing a past quote, move forward in history instead
            if (currentHistoryIndex < quoteHistory.length - 1) {
                navigateQuote(1);
                return;
            }

            // Start Animation (circle only)
            isClickAnimating = true;
            circleBg.classList.add('animate-click-effect');

            // Simple timeout for circle animation
            setTimeout(() => {
                if (!hasStarted) {
                    hasStarted = true;
                    startPrompt.style.display = 'none';
                    quoteContainer.classList.remove('hidden');
                    // Show navigation arrows
                    navArrows.classList.remove('hidden');
                }

                let newQuote;

                // Check availability
                if (availableQuotes.length === 0) {
                    isComplete = true;
                    newQuote = { isComplete: true };
                } else {
                    // Pick random quote
                    const randomIndex = Math.floor(Math.random() * availableQuotes.length);
                    newQuote = availableQuotes[randomIndex];

                    // Remove from pool
                    availableQuotes.splice(randomIndex, 1);
                }

                // Add to history
                quoteHistory.push(newQuote);
                currentHistoryIndex = quoteHistory.length - 1;

                // Display the quote immediately (no fade)
                displayQuote(newQuote);
                updateArrowStates();

            }, 250);

            // Cleanup animation lock (500ms)
            setTimeout(() => {
                isClickAnimating = false;
                circleBg.classList.remove('animate-click-effect');
            }, 500);
        }

        // Navigate through quote history
        function navigateQuote(direction) {
            const newIndex = currentHistoryIndex + direction;

            if (newIndex < 0 || newIndex >= quoteHistory.length) return;

            // Update immediately (no fade)
            currentHistoryIndex = newIndex;
            displayQuote(quoteHistory[currentHistoryIndex]);
            updateArrowStates();
        }


        // Event Listeners
        breathingCircle.addEventListener('click', handleNewMeditation);
        breathingCircle.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                handleNewMeditation();
            }
        });

        // Navigation arrow listeners
        prevArrow.addEventListener('click', () => navigateQuote(-1));
        nextArrow.addEventListener('click', () => navigateQuote(1));

    </script>
</body>

</html>